<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ú–∞–º–∞!</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@300;500;700&display=swap');

  :root{
    --bg1: #ff9a9e;
    --bg2: #fad0c4;
    --card-bg: rgba(255,255,255,0.15);
    --glass-blur: 10px;
  }

  html,body{height:100%;}
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    font-family: 'Montserrat', sans-serif;
    color: #fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* –§–û–ù */
  canvas#bg{
    position: fixed; inset:0; width:100vw; height:100vh; z-index:-1; 
    background: radial-gradient(circle at center, var(--bg1), var(--bg2), #fcb69f);
  }

  .content{
    position: relative; z-index:2; text-align:center; padding:6vh 6vw; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:100vh; box-sizing:border-box;
  }

  h1{
    font-family: 'Pacifico', cursive; font-size:7.5vmin; margin:0; line-height:1; animation:glow 3s infinite; text-shadow:0 0 12px rgba(255,255,255,0.6);
  }
  @keyframes glow{0%{text-shadow:0 0 6px rgba(255,255,255,0.3);}50%{text-shadow:0 0 30px rgba(255,230,242,0.9);}100%{text-shadow:0 0 6px rgba(255,255,255,0.3);}}

  .card{
    margin-top:4vmin; background:var(--card-bg); padding:4vmin; border-radius:18px; backdrop-filter:blur(var(--glass-blur)); max-width:900px; width:100%; box-sizing:border-box; font-size:3.2vmin; line-height:1.5; animation:float 5s ease-in-out infinite;
  }
  @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}

  .heart{font-size:10vmin; animation:pulse 1.2s infinite; margin-bottom:2vmin}
  @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.25)}100%{transform:scale(1)}}

  /* –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞-–ø–æ–¥–∞—Ä–æ–∫ */
  .gift-btn{position:fixed; right:18px; bottom:18px; z-index:4; background:linear-gradient(180deg,#ff7aa2,#ff4d6d); border:none; width:64px; height:64px; border-radius:50%; box-shadow:0 8px 20px rgba(0,0,0,0.25); display:flex; align-items:center; justify-content:center; font-size:28px; cursor:pointer;}
  .gift-btn:active{transform:scale(0.95)}

  /* –ú–æ–±–∏–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è */
  @media (max-width:600px){
    .card{padding:5vmin; font-size:4.2vmin}
    h1{font-size:12vmin}
    .heart{font-size:16vmin}
    .gift-btn{width:56px;height:56px;font-size:24px;right:12px;bottom:12px}
  }

  /* –ù–µ–≤–∏–¥–∏–º–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–Ω–∞–ª –ø—Ä–æ –ø–æ–¥–∞—Ä–æ–∫ */
  .hint{position:fixed; left:18px; bottom:22px; z-index:4; font-size:12px; opacity:0.9}
  @media (max-width:600px){.hint{left:12px;bottom:16px;font-size:11px}}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="content">
  <div class="heart">‚ù§</div>
  <h1>–° –î–Ω—ë–º –†–æ–∂–¥–µ–Ω–∏—è, –ú–∞–º–∞!</h1>
  <div class="card" id="message">
    –î–æ—Ä–æ–≥–∞—è –º–∞–º–∞! <br><br>
    –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ —Ç–≤–æ—é –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –¥–æ–±—Ä–æ—Ç—É, —Ç–µ–ø–ª–æ –∏ –ª—é–±–æ–≤—å. –¢—ã –¥–µ–ª–∞–µ—à—å —ç—Ç–æ—Ç –º–∏—Ä —è—Ä—á–µ, –∞ –∂–∏–∑–Ω—å ‚Äî —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ.
    –ü—É—Å—Ç—å —ç—Ç–æ—Ç –¥–µ–Ω—å –ø–æ–¥–∞—Ä–∏—Ç —Ç–µ–±–µ –º–æ—Ä–µ —Ä–∞–¥–æ—Å—Ç–∏, —É–ª—ã–±–æ–∫ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è. –ü—É—Å—Ç—å —Å–±—É–¥–µ—Ç—Å—è –≤—Å—ë, —á—Ç–æ —Ç—ã –∂–µ–ª–∞–µ—à—å.
    <br><br>
    –Ø —Ç–µ–±—è –æ—á–µ–Ω—å –ª—é–±–ª—é! ‚ù§Ô∏è
  </div>
</div>

<button class="gift-btn" id="gift">üéÅ</button>
<div class="hint">–ù–∞–∂–º–∏ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ ‚Äî –æ—Å–æ–±–µ–Ω–Ω—ã–π —Å—é—Ä–ø—Ä–∏–∑!</div>

<script>
// --- –ù–ê–°–¢–†–û–ô–ö–ò –ü–ê–†–¢–ò–ö–õ–û–í (–∞–¥–∞–ø—Ç–∏–≤–Ω–æ –¥–ª—è –º–æ–±–∏–ª) ---
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');
let particles = [];

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

function createParticles(count){
  particles = [];
  for(let i=0;i<count;i++){
    particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*3+0.8,dx:(Math.random()-0.5)*0.6,dy:(Math.random()-0.5)*0.6,alpha:Math.random()*0.9});
  }
}

// –º–µ–Ω—å—à–µ —á–∞—Å—Ç–∏—Ü –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent) || window.innerWidth < 700;
createParticles(isMobile?60:140);

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>{
    ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle = `rgba(255,255,255,${p.alpha})`;
    ctx.fill();
    p.x += p.dx; p.y += p.dy;
    if(p.x<0||p.x>canvas.width) p.dx*=-1; if(p.y<0||p.y>canvas.height) p.dy*=-1;
  });
  requestAnimationFrame(animate);
}
animate();

// --- –ö–û–ù–§–ï–¢–¢–ò / –°–Æ–†–ü–†–ò–ó –ü–†–ò –ù–ê–ñ–ê–¢–ò–ò –ù–ê –ö–ù–û–ü–ö–£ ---
const gift = document.getElementById('gift');
let confettiRunning = false;

function makeConfetti(x,y){
  const colors = ['#ff6b6b','#ffd166','#6bf2c1','#9b8cff','#ff9a9e'];
  const pieces = [];
  for(let i=0;i<40;i++){
    pieces.push({x,y,vx:(Math.random()-0.5)*6,vy:(Math.random()-1)*8, size: Math.random()*6+4, color: colors[Math.floor(Math.random()*colors.length)], rot:Math.random()*360, vr: (Math.random()-0.5)*10});
  }

  let t = 0;
  function step(){
    ctx.save();
    ctx.globalCompositeOperation = 'lighter';
    pieces.forEach(p=>{
      p.x += p.vx; p.y += p.vy; p.vy += 0.25; p.rot += p.vr;
      ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180);
      ctx.fillStyle = p.color; ctx.fillRect(-p.size/2, -p.size/2, p.size, p.size);
      ctx.rotate(-p.rot*Math.PI/180); ctx.translate(-p.x,-p.y);
    });
    ctx.restore();
    t++;
    if(t<120) requestAnimationFrame(step);
  }
  step();
}

gift.addEventListener('click', ()=>{
  if(confettiRunning) return; confettiRunning = true;
  // –ø–æ–∑–∏—Ü–∏—è ‚Äî –æ–∫–æ–ª–æ –∫–Ω–æ–ø–∫–∏
  const rect = gift.getBoundingClientRect();
  const x = rect.left + rect.width/2; const y = rect.top + rect.height/2;
  makeConfetti(x,y);
  // –Ω–µ–±–æ–ª—å—à–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
  const card = document.getElementById('message');
  const old = card.innerHTML;
  card.innerHTML = '<strong>–°—é—Ä–ø—Ä–∏–∑!</strong><br><br>–ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω–µ–Ω —Ä–∞–¥–æ—Å—Ç—å—é –∏ —Ç–µ–ø–ª–æ–º. –° –ª—é–±–æ–≤—å—é ‚Äî —Ç–≤–æ–π(—è) —Ä–µ–±—ë–Ω–æ–∫.';
  setTimeout(()=>{ card.innerHTML = old; confettiRunning=false; }, 4200);
});

// --- –¢–ê–ß-–°–û–ë–´–¢–ò–Ø –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–•: –∫–æ—Å–Ω–∏—Å—å —ç–∫—Ä–∞–Ω–∞ ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫ ---
function touchBurst(x,y){
  const ctxSaved = ctx.getImageData(0,0,1,1); // dummy to keep ctx usable
  makeConfetti(x,y);
}

let lastTap = 0;
window.addEventListener('touchstart', (e)=>{
  const touch = e.touches[0];
  touchBurst(touch.clientX, touch.clientY);
  const now = Date.now();
  if(now - lastTap < 350){ // double tap -> open big surprise
    gift.click();
  }
  lastTap = now;
});

// --- –ü–ª–∞–≤–Ω–æ–µ —Å–∫—Ä–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –º–∞–ª–µ–Ω—å–∫–æ–º —ç–∫—Ä–∞–Ω–µ ---
if(isMobile){
  setTimeout(()=>{ window.scrollTo({top:0, behavior:'smooth'}); }, 300);
}

</script>

</body>
</html>